/*
 *  /MathJax/jax/output/HTML-CSS/jax.js
 *  
 *  Copyright (c) 2010 Design Science, Inc.
 *
 *  Part of the MathJax library.
 *  See http://www.mathjax.org for details.
 * 
 *  Licensed under the Apache License, Version 2.0;
 *  you may not use this file except in compliance with the License.
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 */

(function(c,d,e){var a;var b=MathJax.Object.Subclass({timeout:5*1000,FontInfo:{STIX:{family:"STIXSizeOneSym",testString:"() {} []"},TeX:{family:"MathJax_Size1",testString:"() {} []"}},comparisonFont:["sans-serif","monospace","script","Times","Courier","Arial","Helvetica"],testSize:["40px","50px","60px","30px","20px"],Init:function(){this.div=MathJax.HTML.addElement(document.body,"div",{style:{position:"absolute",visibility:"hidden",top:0,left:0,width:"auto",padding:0,border:0,margin:0,textAlign:"left",textIndent:0,textTransform:"none",lineHeight:"normal",letterSpacing:"normal",wordSpacing:"normal",fontSize:this.testSize[0],fontWeight:"normal",fontStyle:"normal"}},[""]);this.text=this.div.firstChild},findFont:function(l,j){if(j&&this.testCollection(j)){return j}for(var k=0,h=l.length;k<h;k++){if(l[k]===j){continue}if(this.testCollection(l[k])){return l[k]}}return null},testCollection:function(h){return this.testFont(this.FontInfo[h])},testFont:function(k){if(k.isWebFont&&e.FontFaceBug){this.div.style.fontWeight=this.div.style.fontStyle="normal"}else{this.div.style.fontWeight=(k.weight||"normal");this.div.style.fontStyle=(k.style||"normal")}var j=this.getComparisonWidths(k.testString,k.noStyleChar);if(j){this.div.style.fontFamily="'"+k.family+"',"+this.comparisonFont[0];if(this.div.offsetWidth==j[0]){this.div.style.fontFamily="'"+k.family+"',"+this.comparisonFont[j[2]];if(this.div.offsetWidth==j[1]){return false}}if(this.div.offsetWidth!=j[3]){if(k.noStyleChar||!e.FONTDATA||!e.FONTDATA.hasStyleChar){return true}for(var l=0,h=this.testSize.length;l<h;l++){if(this.testStyleChar(k,this.testSize[l])){return true}}}}return false},styleChar:"\uEFFD",versionChar:"\uEFFE",compChar:"\uEFFF",testStyleChar:function(j,l){var p=3+(j.weight?2:0)+(j.style?4:0);var i="",k=0;var o=this.div.style.fontSize;this.div.style.fontSize=l;if(e.msieItalicWidthBug&&j.style==="italic"){this.text.nodeValue=i=this.compChar;k=this.div.offsetWidth}if(e.safariTextNodeBug){this.div.innerHTML=this.compChar+i}else{this.text.nodeValue=this.compChar+i}var h=this.div.offsetWidth-k;if(e.safariTextNodeBug){this.div.innerHTML=this.styleChar+i}else{this.text.nodeValue=this.styleChar+i}var m=Math.floor((this.div.offsetWidth-k)/h+0.5);if(m===p){if(e.safariTextNodeBug){this.div.innerHTML=this.versionChar+i}else{this.text.nodeValue=this.versionChar+i}j.version=Math.floor((this.div.offsetWidth-k)/h+1.5)/2}this.div.style.fontSize=o;return(m===p)},getComparisonWidths:function(l,k){if(e.FONTDATA&&e.FONTDATA.hasStyleChar&&!k){l+=this.styleChar+" "+this.compChar}if(e.safariTextNodeBug){this.div.innerHTML=l}else{this.text.nodeValue=l}this.div.style.fontFamily=this.comparisonFont[0];var j=this.div.offsetWidth,o=-1;if(e.safariWebFontSerif){this.div.style.fontFamily=e.safariWebFontSerif[0];o=this.div.offsetWidth}for(var n=1,h=this.comparisonFont.length;n<h;n++){this.div.style.fontFamily=this.comparisonFont[n];if(this.div.offsetWidth!=j){return[j,this.div.offsetWidth,n,o]}}return null},loadWebFont:function(i){d.Startup.signal.Post("HTML-CSS Jax - Web-Font "+e.fontInUse+"/"+i.directory);var k=MathJax.Message.File("Web-Font "+e.fontInUse+"/"+i.directory);var h=MathJax.Callback({});var j=MathJax.Callback(["loadComplete",this,i,k,h]);c.timer.start(c,[this.checkWebFont,i,j],1,this.timeout);return h},loadComplete:function(j,l,i,h){MathJax.Message.Clear(l);if(h===c.STATUS.OK){i();return}this.loadError(j);if(d.Browser.isFirefox&&e.allowWebFonts){var k=document.location.protocol+"//"+document.location.hostname;if(document.location.port!=""){k+=":"+document.location.port}k+="/";if(c.fileURL(e.webfontDir).substr(0,k.length)!==k){this.firefoxFontError(j)}}e.loadWebFontError(j,i)},loadError:function(h){MathJax.Message.Set("Can't load web font "+e.fontInUse+"/"+h.directory,null,2000)},firefoxFontError:function(h){MathJax.Message.Set("Firefox can't load web fonts from a remote host",null,3000)},checkWebFont:function(h,i,j){if(h.time(j)){return}if(e.Font.testFont(i)){j(h.STATUS.OK)}else{setTimeout(h,h.delay)}},fontFace:function(j){var k=e.allowWebFonts;var m=e.FONTDATA.FONTS[j];if(e.msieFontCSSBug&&!m.family.match(/-Web$/)){m.family+="-Web"}var i=c.fileURL(e.webfontDir+"/"+k);var h=j.replace(/-b/,"-B").replace(/-i/,"-I").replace(/-Bold-/,"-Bold");if(!h.match(/-/)){h+="-Regular"}if(k==="svg"){h+=".svg#"+h}else{h+="."+k}var l={"font-family":m.family,src:"url('"+i+"/"+h+"')"};if(k==="svg"){l.src+=" format('svg')"}if(!(e.FontFaceBug&&m.isWebFont)){if(j.match(/-bold/)){l["font-weight"]="bold"}if(j.match(/-italic/)){l["font-style"]="italic"}}return l}});var f=MathJax.HTML.Event;var g=MathJax.HTML.Touch;e.Augment({config:{styles:{".MathJax":{display:"inline","font-family":"serif","font-style":"normal","font-weight":"normal","line-height":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-align":"left","text-transform":"none","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap","float":"none",direction:"ltr",border:0,padding:0,margin:0},".MathJax_Display":{position:"relative",display:"block",width:"100%"},".MathJax img, .MathJax nobr, .MathJax a":{border:0,padding:0,margin:0,"max-width":"none","max-height":"none","vertical-align":0,"line-height":"normal","text-decoration":"none"},"img.MathJax_strut":{border:"0 !important",padding:"0 !important",margin:"0 !important","vertical-align":"0 !important"},".MathJax span":{display:"inline",position:"static",border:0,padding:0,margin:0,"vertical-align":0,"line-height":"normal","text-decoration":"none"},".MathJax nobr":{"white-space":"nowrap"},".MathJax img":{display:"inline ! important"},".MathJax_Processing":{visibility:"hidden",position:"fixed",width:0,height:0,overflow:"hidden"},".MathJax .MathJax_HitBox":{cursor:"text"},"#MathJax_Tooltip":{position:"absolute",left:0,top:0,width:"auto",height:"auto",display:"none"},"#MathJax_Tooltip *":{filter:"none",background:"transparent"}}},settings:d.config.menuSettings,LEFTBUTTON:(d.Browser.isMSIE?1:0),MENUKEY:"altKey",Font:null,Config:function(){this.Font=b();this.SUPER(arguments).Config.call(this);var i=this.settings;if(this.adjustAvailableFonts){this.adjustAvailableFonts(this.config.availableFonts)}if(i.scale){this.config.scale=i.scale}if(i.font&&i.font!=="Auto"){if(i.font==="TeX (local)"){this.config.availableFonts=["TeX"];this.config.preferredFont="TeX";this.config.webFont="TeX"}else{if(i.font==="STIX (local)"){this.config.availableFonts=["STIX"];this.config.preferredFont="STIX";this.config.webFont="TeX"}else{if(i.font==="TeX (web)"){this.config.availableFonts=[];this.config.preferredFont="";this.config.webFont="TeX"}else{if(i.font==="TeX (image)"){this.config.availableFonts=[];this.config.preferredFont="";this.config.webFont=""}}}}}var h=this.Font.findFont(this.config.availableFonts,this.config.preferredFont);if(!h&&this.allowWebFonts){h=this.config.webFont;if(h){this.webFonts=true}}if(!h&&this.config.imageFont){h=this.config.imageFont;this.imgFonts=true}if(h){this.fontInUse=h;this.fontDir+="/"+h;this.webfontDir+="/"+h;if(!this.require){this.require=[]}this.require.push(this.fontDir+"/fontdata.js");if(this.imgFonts){this.require.push(this.directory+"/imageFonts.js");d.Startup.signal.Post("HTML-CSS Jax - using image fonts")}}else{MathJax.Message.Set("Can't find a valid font using ["+this.config.availableFonts.join(", ")+"]",null,3000);this.FONTDATA={TeX_factor:1,baselineskip:1.2,lineH:0.8,lineD:0.2,ffLineH:0.8,FONTS:{},VARIANT:{normal:{fonts:[]}},RANGES:[],DELIMITERS:{},RULECHAR:45,REMAP:{}};if(MathJax.InputJax.TeX&&MathJax.InputJax.TeX.Definitions){MathJax.InputJax.TeX.Definitions.macros.overline[1]="002D";MathJax.InputJax.TeX.Definitions.macros.underline[1]="002D"}d.Startup.signal.Post("HTML-CSS Jax - no valid font")}},Startup:function(){var k=[],o=this.FONTDATA.VARIANT.normal.fonts;if(!(o instanceof Array)){o=[o]}for(var j=0,h=o.length;j<h;j++){k[j]=this.FONTDATA.FONTS[o[j]].family;if(!k[j]){k[j]=o[j]}}this.config.styles[".MathJax .math span"]=this.config.styles["#MathJax_getScales"]={"font-family":k.join(",")};this.hiddenDiv=this.Element("div",{style:{visibility:"hidden",overflow:"hidden",position:"absolute",top:0,height:"1px",width:"auto",padding:0,border:0,margin:0,textAlign:"left",textIndent:0,textTransform:"none",lineHeight:"normal",letterSpacing:"normal",wordSpacing:"normal"}});if(!document.body.firstChild){document.body.appendChild(this.hiddenDiv)}else{document.body.insertBefore(this.hiddenDiv,document.body.firstChild)}this.hiddenDiv=this.addElement(this.hiddenDiv,"div",{id:"MathJax_Hidden"});var n=this.addElement(this.hiddenDiv,"div",{style:{width:"5in"}});this.pxPerInch=n.offsetWidth/5;this.hiddenDiv.removeChild(n);this.startMarker=e.createStrut(this.Element("span"),10,true);this.endMarker=this.addText(this.Element("span"),"x").parentNode;this.HDspan=this.Element("span");if(this.operaHeightBug){this.createStrut(this.HDspan,0)}if(this.msieInlineBlockAlignBug){this.HDimg=this.addElement(this.HDspan,"img",{style:{height:"0px",width:"1px"}});try{this.HDimg.src="about:blank"}catch(l){}}else{this.HDimg=e.createStrut(this.HDspan,0)}this.HDMspan=this.Element("span",{style:{position:"absolute","font-size-adjust":"none"}});if(this.msieInlineBlockAlignBug){this.HDMimg=this.addElement(this.HDMspan,"img",{style:{height:"0px",width:"1px","max-width":"none","max-height":"none",border:0,padding:0,margin:0}});try{this.HDMimg.src="about:blank"}catch(l){}}else{this.HDMimg=e.createStrut(this.HDMspan,0);this.HDMimg.style.marginRight=""}this.marginCheck=e.Element("span",null,[["span",{style:{display:"inline-block",width:"5em"}}]]);this.marginMove=e.addElement(this.marginCheck,"span",{style:{display:"inline-block",width:"5em",marginLeft:"-5em"}});return c.Styles(this.config.styles,["PreloadWebFonts",this])},PreloadWebFonts:function(){if(!e.allowWebFonts||!e.config.preloadWebFonts){return}for(var j=0,h=e.config.preloadWebFonts.length;j<h;j++){var k=e.FONTDATA.FONTS[e.config.preloadWebFonts[j]];if(!k.available){e.Font.testFont(k)}}},Translate:function(n){if(!n.parentNode){return}var l=n.previousSibling;if(l&&String(l.className).match(/^MathJax(_MathML|_Display)?$/)){l.parentNode.removeChild(l)}var o=n.MathJax.elementJax.root,p,h,j;p=h=j=this.Element("span",{className:"MathJax",isMathJax:true,jaxID:"HTML-CSS",oncontextmenu:f.Menu,onmousedown:f.Mousedown,onmouseover:f.Mouseover,onmouseout:f.Mouseout,onmousemove:f.Mousemove,onclick:f.Click,ondblclick:f.DblClick});if(MathJax.Hub.Browser.noContextMenu){p.ontouchstart=g.start;p.ontouchend=g.end}var k=(o.Get("display")==="block");if(k){h=j=this.Element("div",{className:"MathJax_Display",style:{width:"100%",position:"relative"}});h.appendChild(p)}h.setAttribute("role","textbox");h.setAttribute("aria-readonly","true");if(this.useProcessingFrame){j=this.Element((k?"div":"span"),{className:"MathJax_Processing"});j.appendChild(h)}n.parentNode.insertBefore(j,n);var i;try{this.getScales(p);i=(this.em===0||String(this.em)==="NaN")}catch(m){i=true}if(i){this.hiddenDiv.appendChild(j);this.getScales(p)}this.initImg(p);this.initHTML(o,p);o.setTeXclass();try{o.toHTML(p,h)}catch(m){if(m.restart){j.parentNode.removeChild(j)}throw m}if(i){n.parentNode.insertBefore(j,n)}if(this.useProcessingFrame){j.parentNode.replaceChild(h,j)}},HandleEvent:f.HandleEvent,ContextMenu:function(i,h,j){if(this.config.showMathMenu&&(this.settings.context==="MathJax"||j)){if(this.safariContextMenuBug){setTimeout("window.getSelection().empty()",0)}if(this.msieEventBug){i=window.event}if(h.parentNode.className==="MathJax_Display"){h=h.parentNode}return f.ContextMenu(i,h)}},Mousedown:function(j,i){if(this.config.showMathMenu){if(this.settings.context==="MathJax"){if(!this.noContextMenuBug||j.button!==2){return}}else{var h=(f.msieButtonBug?j.buttons&1:j.button);if(!j[e.MENUKEY]||h!==e.LEFTBUTTON){return}}return this.ContextMenu(j,i,true)}},initImg:function(h){},initHTML:function(i,h){},initFont:function(h){var j=e.FONTDATA.FONTS,i=e.config.availableFonts;if(i&&i.length&&e.Font.testFont(j[h])){j[h].available=true;return null}if(!this.allowWebFonts){return null}j[h].isWebFont=true;if(e.FontFaceBug){j[h].family=h;if(e.msieFontCSSBug){j[h].family+="-Web"}}return c.Styles({"@font-face":this.Font.fontFace(h)})},Remove:function(h){var i=h.SourceElement();if(!i){return}i=i.previousSibling;if(!i){return}if(i.className.match(/^MathJax/)){i.parentNode.removeChild(i)}},getScales:function(j){j.parentNode.insertBefore(this.HDMspan,j);this.HDMspan.className="";this.HDMspan.id="";this.HDMspan.style.fontSize="";this.HDMimg.style.height="1px";this.HDMimg.style.width="60ex";var i=this.HDMspan.offsetWidth/60;this.HDMspan.className="MathJax";this.HDMspan.id="MathJax_getScales";this.HDMimg.style.width="60em";var h=this.outerEm=this.HDMspan.offsetWidth/60;this.scale=Math.floor(Math.max(this.config.minScaleAdjust/100,(i/this.TeX.x_height)/h)*this.config.scale);j.style.fontSize=this.HDMspan.style.fontSize=this.scale+"%";this.em=a.mbase.prototype.em=this.HDMspan.offsetWidth/60;if(this.operaFontSizeBug&&h===this.em&&this.scale!==100){this.em=a.mbase.prototype.em=h*this.scale/100}j.parentNode.removeChild(this.HDMspan);this.msieMarginScale=this.getMarginScale(j)},getMarginScale:function(h){return 1},getMSIEmarginScale:function(j){j.appendChild(this.marginCheck);var h=this.marginCheck.offsetWidth,i=this.marginMove.offsetWidth;var k=(2*i-h?i/(2*i-h):1);j.removeChild(this.marginCheck);return k},getHD:function(i){var h=i.style.position;i.style.position="absolute";this.HDimg.style.height="0px";i.appendChild(this.HDspan);var j={h:i.offsetHeight};this.HDimg.style.height=j.h+"px";j.d=i.offsetHeight-j.h;j.h-=j.d;j.h/=this.em;j.d/=this.em;i.removeChild(this.HDspan);i.style.position=h;return j},getW:function(k){var i=k.offsetWidth,j=(k.bbox?k.bbox.w:-1),l=k;if((j<0||this.negativeSkipBug)&&i>=0){if(this.negativeSkipBug){var h=k.style.position;k.style.position="absolute";l=this.startMarker;if(k.firstChild){k.insertBefore(l,k.firstChild)}else{k.appendChild(l)}l=this.startMarker}k.appendChild(this.endMarker);i=this.endMarker.offsetLeft-l.offsetLeft;k.removeChild(this.endMarker);if(this.negativeSkipBug){k.removeChild(l);k.style.position=h}}return i/this.em},Measured:function(j,i){if(j.bbox.width==null&&j.bbox.w&&!j.bbox.isMultiline){var h=this.getW(j);j.bbox.rw+=h-j.bbox.w;j.bbox.w=h}if(!i){i=j.parentNode}if(!i.bbox){i.bbox=j.bbox}return j},Remeasured:function(i,h){h.bbox=this.Measured(i,h).bbox},Em:function(h){if(Math.abs(h)<0.0006){return"0em"}return h.toFixed(3).replace(/\.?0+$/,"")+"em"},Percent:function(h){return(100*h).toFixed(1).replace(/\.?0+$/,"")+"%"},length2percent:function(h){return this.Percent(this.length2em(h))},length2em:function(n,k){if(typeof(n)!=="string"){n=n.toString()}if(n===""){return""}if(n===a.SIZE.NORMAL){return 1}if(n===a.SIZE.BIG){return 2}if(n===a.SIZE.SMALL){return 0.71}if(n==="infinity"){return e.BIGDIMEN}var j=this.FONTDATA.TeX_factor;if(n.match(/mathspace$/)){return e.MATHSPACE[n]*j}var i=n.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);var h=parseFloat(i[1]||"1"),l=i[2];if(k==null){k=1}if(l==="em"){return h*j}if(l==="ex"){return h*e.TeX.x_height*j}if(l==="%"){return h/100*k}if(l==="px"){return h/e.em}if(l==="pt"){return h/10*j}if(l==="pc"){return h*1.2*j}if(l==="in"){return h*this.pxPerInch/e.em}if(l==="cm"){return h*this.pxPerInch/e.em/2.54}if(l==="mm"){return h*this.pxPerInch/e.em/25.4}if(l==="mu"){return h/18*j}return h*j*k},thickness2em:function(h){var i=e.TeX.rule_thickness;if(h===a.LINETHICKNESS.MEDIUM){return i}if(h===a.LINETHICKNESS.THIN){return 0.67*i}if(h===a.LINETHICKNESS.THICK){return 1.67*i}return this.length2em(h,i)},createStrut:function(k,j,l){var i=this.Element("span",{isMathJax:true,style:{display:"inline-block",overflow:"hidden",height:j+"px",width:"1px",marginRight:"-1px"}});if(l){k.insertBefore(i,k.firstChild)}else{k.appendChild(i)}return i},createBlank:function(i,h,j){var k=this.Element("span",{isMathJax:true,style:{display:"inline-block",overflow:"hidden",height:"1px",width:this.Em(h)}});if(j){i.insertBefore(k,i.firstChild)}else{i.appendChild(k)}return k},createShift:function(i,h,k){var j=this.Element("span",{style:{marginLeft:this.Em(h)},isMathJax:true});if(k){i.insertBefore(j,i.firstChild)}else{i.appendChild(j)}return j},createSpace:function(m,l,o,i,j){var k=this.Em(Math.max(0,l+o)),n=this.Em(-o);if(this.msieInlineBlockAlignBug){n=this.Em(e.getHD(m.parentNode).d-o)}if(m.isBox||m.className=="mspace"){m.bbox={h:l*m.scale,d:o*m.scale,w:i*m.scale,rw:i*m.scale,lw:0};m.style.height=k;m.style.verticalAlign=n}else{m=this.addElement(m,"span",{style:{height:k,verticalAlign:n},isMathJax:true})}if(i>=0){m.style.width=this.Em(i);m.style.display="inline-block"}else{if(this.msieNegativeSpaceBug){m.style.height=""}m.style.marginLeft=this.Em(i);if(e.safariNegativeSpaceBug&&m.parentNode.firstChild==m){this.createBlank(m,0,true)}}if(j&&j!==a.COLOR.TRANSPARENT){m.style.backgroundColor=j}return m},createRule:function(p,l,n,q,j){var k=e.TeX.min_rule_thickness;if(q>0&&q*this.em<k){q=k/this.em}if(l+n>0&&(l+n)*this.em<k){var m=1/(l+n)*(k/this.em);l*=m;n*=m}if(!j){j="solid"}else{j="solid "+j}j=this.Em(q)+" "+j;var r=this.Em(l+n),i=this.Em(-n);var o=this.addElement(p,"span",{style:{borderLeft:j,display:"inline-block",overflow:"hidden",width:0,height:r,verticalAlign:i},bbox:{h:l,d:n,w:q,rw:q,lw:0},noAdjust:true,isMathJax:true});if(q>0&&o.offsetWidth==0){o.style.width=this.Em(q)}if(p.isBox||p.className=="mspace"){p.bbox=o.bbox}return o},createFrame:function(q,o,p,r,u,j){var n=(this.msieBorderWidthBug?0:2*u);var s=this.Em(o+p-n),i=this.Em(-p-u),m=this.Em(r-n);var k=this.Em(u)+" "+j;var l=this.addElement(q,"span",{style:{border:k,display:"inline-block",overflow:"hidden",width:m,height:s},bbox:{h:o,d:p,w:r,rw:r,lw:0},noAdjust:true,isMathJax:true});if(i){l.style.verticalAlign=i}return l},createStack:function(j,l,i){if(this.msiePaddingWidthBug){this.createStrut(j,0)}var k=String(i).match(/%$/);var h=(!k&&i!=null?i:0);j=this.addElement(j,"span",{noAdjust:true,isMathJax:true,style:{display:"inline-block",position:"relative",width:(k?"100%":this.Em(h)),height:0}});if(!l){j.parentNode.bbox=j.bbox={h:-this.BIGDIMEN,d:-this.BIGDIMEN,w:h,lw:this.BIGDIMEN,rw:(!k&&i!=null?i:-this.BIGDIMEN)};if(k){j.bbox.width=i}}return j},createBox:function(i,h){var j=this.addElement(i,"span",{style:{position:"absolute"},isBox:true,isMathJax:true});if(h!=null){j.style.width=h}return j},addBox:function(h,i){i.style.position="absolute";i.isBox=true;return h.appendChild(i)},placeBox:function(p,o,n,k){p.isMathJax=true;var q=p.parentNode,z=p.bbox,u=q.bbox;if(this.msiePlaceBoxBug){this.addText(p,this.NBSP)}if(this.imgSpaceBug){this.addText(p,this.imgSpace)}var s=p.offsetHeight/this.em+1,B=0;if(p.noAdjust){s-=1}else{if(this.msieInlineBlockAlignBug){this.addElement(p,"img",{className:"MathJax_strut",border:0,src:"about:blank",isMathJax:true,style:{width:0,height:this.Em(s)}})}else{this.addElement(p,"span",{isMathJax:true,style:{display:"inline-block",width:0,height:this.Em(s)}})}}p.style.top=this.Em(-n-s);p.style.left=this.Em(o+B);if(z){if(this.negativeSkipBug){if(z.lw<0){B=z.lw;e.createBlank(p,-B,true);j=0}if(z.rw>z.w){e.createBlank(p,z.rw-z.w+0.1)}}if(!this.msieClipRectBug&&!z.noclip&&!k){var w=3/this.em;var v=(z.H==null?z.h:z.H),i=(z.D==null?z.d:z.D);var A=s-v-w,m=s+i+w,j=z.lw-3*w,h=1000;if(z.isFixed){h=z.width-j}p.style.clip="rect("+this.Em(A)+" "+this.Em(h)+" "+this.Em(m)+" "+this.Em(j)+")"}}if(z&&u){if(z.H!=null&&(u.H==null||z.H+n>u.H)){u.H=z.H+n}if(z.D!=null&&(u.D==null||z.D-n>u.D)){u.D=z.D-n}if(z.h+n>u.h){u.h=z.h+n}if(z.d-n>u.d){u.d=z.d-n}if(u.H!=null&&u.H<=u.h){delete u.H}if(u.D!=null&&u.D<=u.d){delete u.D}if(z.w+o>u.w){u.w=z.w+o;if(u.width==null){q.style.width=this.Em(u.w)}}if(z.rw+o>u.rw){u.rw=z.rw+o}if(z.lw+o<u.lw){u.lw=z.lw+o}if(z.width!=null&&!z.isFixed){if(u.width==null){q.style.width=u.width="100%"}p.style.width=z.width}}},alignBox:function(j,p,o){this.placeBox(j,0,o);var m=j.bbox;if(m.isMultiline){return}var i=m.width!=null&&!m.isFixed;var k=0,n=-m.w/2,h="50%";if(this.negativeSkipBug){k=m.w-m.rw-0.1;n+=m.lw}n=this.Em(n*this.msieMarginScale);if(i){n="";h=(50-parseFloat(m.width)/2)+"%"}d.Insert(j.style,({right:{left:"",right:this.Em(k)},center:{left:h,marginLeft:n}})[p])},setStackWidth:function(i,h){if(typeof(h)==="number"){i.style.width=this.Em(Math.max(0,h));if(i.bbox){i.bbox.w=h}if(i.parentNode.bbox){i.parentNode.bbox.w=h}}else{i.style.width=i.parentNode.style.width="100%";if(i.bbox){i.bbox.width=h}if(i.parentNode.bbox){i.parentNode.bbox.width=h}}},createDelimiter:function(s,h,k,o,l){if(!h){s.bbox={h:0,d:0,w:this.TeX.nulldelimiterspace,lw:0};s.bbox.rw=s.bbox.w;this.createSpace(s,s.bbox.h,s.bbox.d,s.bbox.w);return}if(!o){o=1}if(!(k instanceof Array)){k=[k,k]}var r=k[1];k=k[0];var j={alias:h};while(j.alias){h=j.alias;j=this.FONTDATA.DELIMITERS[h];if(!j){j={HW:[0,this.FONTDATA.VARIANT[a.VARIANT.NORMAL]]}}}for(var q=0,n=j.HW.length;q<n;q++){if(j.HW[q][0]*o>=k-0.01||(q==n-1&&!j.stretch)){if(j.HW[q][2]){o*=j.HW[q][2]}if(j.HW[q][3]){h=j.HW[q][3]}var p=this.addElement(s,"span");this.createChar(p,[h,j.HW[q][1]],o,l);s.bbox=p.bbox;s.offset=0.65*s.bbox.w;s.scale=o;return}}if(j.stretch){this["extendDelimiter"+j.dir](s,r,j.stretch,o,l)}},extendDelimiterV:function(x,r,C,D,u){var l=this.createStack(x,true);var t=this.createBox(l),s=this.createBox(l);this.createChar(t,(C.top||C.ext),D,u);this.createChar(s,(C.bot||C.ext),D,u);var j={bbox:{w:0,lw:0,rw:0}},B=j,m;var z=t.bbox.h+t.bbox.d+s.bbox.h+s.bbox.d;var p=-t.bbox.h;this.placeBox(t,0,p,true);p-=t.bbox.d;if(C.mid){B=this.createBox(l);this.createChar(B,C.mid,D,u);z+=B.bbox.h+B.bbox.d}if(r>z){j=this.Element("span");this.createChar(j,C.ext,D,u);var A=j.bbox.h+j.bbox.d,i=A-0.05,v,o,w=(C.mid?2:1);o=v=Math.ceil((r-z)/(w*i));if(!C.fullExtenders){i=(r-z)/(w*v)}var q=(v/(v+1))*(A-i);i=A-q;p+=q+i-j.bbox.h;while(w-->0){while(v-->0){if(!this.msieCloneNodeBug){m=j.cloneNode(true)}else{m=this.Element("span");this.createChar(m,C.ext,D,u)}p-=i;this.placeBox(this.addBox(l,m),0,p,true)}p+=q-j.bbox.d;if(C.mid&&w){this.placeBox(B,0,p-B.bbox.h,true);v=o;p+=-(B.bbox.h+B.bbox.d)+q+i-j.bbox.h}}}else{p+=(z-r)/2;if(C.mid){this.placeBox(B,0,p-B.bbox.h,true);p+=-(B.bbox.h+B.bbox.d)}p+=(z-r)/2}this.placeBox(s,0,p-s.bbox.h,true);p-=s.bbox.h+s.bbox.d;x.bbox={w:Math.max(t.bbox.w,j.bbox.w,s.bbox.w,B.bbox.w),lw:Math.min(t.bbox.lw,j.bbox.lw,s.bbox.lw,B.bbox.lw),rw:Math.max(t.bbox.rw,j.bbox.rw,s.bbox.rw,B.bbox.rw),h:0,d:-p};x.scale=D;x.offset=0.55*x.bbox.w;x.isMultiChar=true;this.setStackWidth(l,x.bbox.w)},extendDelimiterH:function(y,j,B,D,t){var o=this.createStack(y,true);var l=this.createBox(o),z=this.createBox(o);this.createChar(l,(B.left||B.rep),D,t);this.createChar(z,(B.right||B.rep),D,t);var h=this.Element("span");this.createChar(h,B.rep,D,t);var A={bbox:{h:-this.BIGDIMEN,d:-this.BIGDIMEN}},i;this.placeBox(l,-l.bbox.lw,0,true);var r=(l.bbox.rw-l.bbox.lw)+(z.bbox.rw-z.bbox.lw)-0.05,q=l.bbox.rw-l.bbox.lw-0.025,s;if(B.mid){A=this.createBox(o);this.createChar(A,B.mid,D,t);r+=A.bbox.w}if(j>r){var C=h.bbox.rw-h.bbox.lw,m=C-0.05,u,p,v=(B.mid?2:1);p=u=Math.ceil((j-r)/(v*m));m=(j-r)/(v*u);s=(u/(u+1))*(C-m);m=C-s;q-=h.bbox.lw+s;while(v-->0){while(u-->0){if(!this.msieCloneNodeBug){i=h.cloneNode(true)}else{i=this.Element("span");this.createChar(i,B.rep,D,t)}this.placeBox(this.addBox(o,i),q,0,true);q+=m}if(B.mid&&v){this.placeBox(A,q,0,true);q+=A.bbox.w-s;u=p}}}else{s=Math.min(r-j,l.bbox.w/2);q-=s/2;if(B.mid){this.placeBox(A,q,0,true);q+=A.bbox.w}q-=s/2}this.placeBox(z,q,0,true);y.bbox={w:q+z.bbox.rw,lw:0,rw:q+z.bbox.rw,H:Math.max(l.bbox.h,h.bbox.h,z.bbox.h,A.bbox.h),D:Math.max(l.bbox.d,h.bbox.d,z.bbox.d,A.bbox.d),h:h.bbox.h,d:h.bbox.d};y.scale=D;y.isMultiChar=true;this.setStackWidth(o,y.bbox.w)},createChar:function(q,n,k,h){q.isMathJax=true;var p=q,r="",l={fonts:[n[1]],noRemap:true};if(h&&h===a.VARIANT.BOLD){l.fonts=[n[1]+"-bold",n[1]]}if(typeof(n[1])!=="string"){l=n[1]}if(n[0] instanceof Array){for(var o=0,j=n[0].length;o<j;o++){r+=String.fromCharCode(n[0][o])}}else{r=String.fromCharCode(n[0])}if(k!==1){p=this.addElement(q,"span",{style:{fontSize:this.Percent(k)},scale:k,isMathJax:true});this.handleVariant(p,l,r);q.bbox=p.bbox}else{this.handleVariant(q,l,r)}if(n[2]){q.style.marginLeft=this.Em(n[2])}if(this.AccentBug&&q.bbox.w===0){p.firstChild.nodeValue+=this.NBSP;e.createSpace(q,0,0,-q.offsetWidth/e.em)}},positionDelimiter:function(j,i){i-=j.bbox.h;j.bbox.d-=i;j.bbox.h+=i;if(i){if(this.safariVerticalAlignBug||this.msieVerticalAlignBug||this.konquerorVerticalAlignBug||(this.operaVerticalAlignBug&&j.isMultiChar)){if(j.firstChild.style.display===""&&j.style.top!==""){j=j.firstChild;i-=parseFloat(j.style.top)}j.style.position="relative";j.style.top=this.Em(-i)}else{j.style.verticalAlign=this.Em(i);if(e.ffVerticalAlignBug){e.createRule(j.parentNode,j.bbox.h,0,0)}}}},handleVariant:function(x,l,q){var w="",u,A,r,j,z,B,h=x;if(q.length===0){return}if(!x.bbox){x.bbox={w:0,h:-this.BIGDIMEN,d:-this.BIGDIMEN,rw:-this.BIGDIMEN,lw:this.BIGDIMEN}}if(!l){l=this.FONTDATA.VARIANT[a.VARIANT.NORMAL]}B=l;for(var y=0,v=q.length;y<v;y++){l=B;u=q.charCodeAt(y);A=q.charAt(y);if(A===this.PLANE1){y++;u=q.charCodeAt(y)+119808-56320;if(this.FONTDATA.RemapPlane1){var C=this.FONTDATA.RemapPlane1(u,l);u=C.n;l=C.variant}}else{var s,p,t=this.FONTDATA.RANGES;for(s=0,p=t.length;s<p;s++){if(t[s].name==="alpha"&&l.noLowerCase){continue}var o=l["offset"+t[s].offset];if(o&&u>=t[s].low&&u<=t[s].high){if(t[s].remap&&t[s].remap[u]){u=o+t[s].remap[u]}else{u=u-t[s].low+o;if(t[s].add){u+=t[s].add}}if(l["variant"+t[s].offset]){l=this.FONTDATA.VARIANT[l["variant"+t[s].offset]]}break}}}if(l.remap&&l.remap[u]){if(l.remap[u] instanceof Array){var k=l.remap[u];u=k[0];l=this.FONTDATA.VARIANT[k[1]]}else{u=l.remap[u];if(l.remap.variant){l=this.FONTDATA.VARIANT[l.remap.variant]}}}if(this.FONTDATA.REMAP[u]&&!l.noRemap){u=this.FONTDATA.REMAP[u]}r=this.lookupChar(l,u);A=r[u];if(l!==z&&!A[5].img){if(w.length){this.addText(h,w);w=""}h=x;z=j;if(l!==z){if(z){h=this.addElement(x,"span",{isMathJax:true})}else{j=l}}this.handleFont(h,r,h!==x);z=l}w=this.handleChar(h,r,A,u,w);if(A[0]/1000>x.bbox.h){x.bbox.h=A[0]/1000}if(A[1]/1000>x.bbox.d){x.bbox.d=A[1]/1000}if(x.bbox.w+A[3]/1000<x.bbox.lw){x.bbox.lw=x.bbox.w+A[3]/1000}if(x.bbox.w+A[4]/1000>x.bbox.rw){x.bbox.rw=x.bbox.w+A[4]/1000}x.bbox.w+=A[2]/1000}if(w.length){this.addText(h,w)}if(x.scale&&x.scale!==1){x.bbox.h*=x.scale;x.bbox.d*=x.scale;x.bbox.w*=x.scale;x.bbox.lw*=x.scale;x.bbox.rw*=x.scale}if(q.length==1&&r.skew&&r.skew[u]){x.bbox.skew=r.skew[u]}},handleFont:function(j,h,l){j.style.fontFamily=h.family;if(!(e.FontFaceBug&&h.isWebFont)){var i=h.style||"normal",k=h.weight||"normal";if(i!=="normal"||l){j.style.fontStyle=i}if(k!=="normal"||l){j.style.fontWeight=k}}},handleChar:function(i,h,o,m,l){var k=o[5];if(k.img){return this.handleImg(i,h,o,m,l)}if(k.isUnknown&&this.FONTDATA.DELIMITERS[m]){if(l.length){this.addText(i,l)}var j=i.scale;e.createDelimiter(i,m,0,1,h);i.scale=j;o[0]=i.bbox.h*1000;o[1]=i.bbox.d*1000;o[2]=i.bbox.w*1000;o[3]=i.bbox.lw*1000;o[4]=i.bbox.rw*1000;return""}if(k.c==null){if(m<=65535){k.c=String.fromCharCode(m)}else{k.c=this.PLANE1+String.fromCharCode(m-119808+56320)}}if(o[2]||!this.msieAccentBug||l.length){return l+k.c}e.createShift(i,o[3]/1000);e.createShift(i,(o[4]-o[3])/1000);this.addText(i,k.c);e.createShift(i,-o[4]/1000);return""},handleImg:function(i,h,l,k,j){return j},lookupChar:function(l,r){var k,h;if(!l.FONTS){var q=this.FONTDATA.FONTS;var p=(l.fonts||this.FONTDATA.VARIANT.normal.fonts);if(!(p instanceof Array)){p=[p]}if(l.fonts!=p){l.fonts=p}l.FONTS=[];for(k=0,h=p.length;k<h;k++){if(q[p[k]]){l.FONTS.push(q[p[k]]);q[p[k]].name=p[k]}}}for(k=0,h=l.FONTS.length;k<h;k++){var j=l.FONTS[k];if(typeof(j)==="string"){delete l.FONTS;this.loadFont(j)}if(j[r]){if(j[r].length===5){j[r][5]={}}if(e.allowWebFonts&&!j.available){this.loadWebFont(j)}else{return j}}else{this.findBlock(j,r)}}var o=(l.defaultFont||{family:e.config.undefinedFamily});if(l.bold){o.weight="bold"}if(l.italic){o.style="italic"}o[r]=[800,200,500,0,500,{isUnknown:true}];return o},findBlock:function(k,p){if(k.Ranges){for(var o=0,h=k.Ranges.length;o<h;o++){if(p<k.Ranges[o][0]){return}if(p<=k.Ranges[o][1]){var n=k.Ranges[o][2];for(var l=k.Ranges.length-1;l>=0;l--){if(k.Ranges[l][2]==n){k.Ranges.splice(l,1)}}this.loadFont(k.directory+"/"+n+".js")}}}},loadFont:function(i){var h=MathJax.Callback.Queue();h.Push(["Require",c,this.fontDir+"/"+i]);if(this.imgFonts){if(!MathJax.isPacked){i=i.replace(/\/([^\/]*)$/,e.imgPacked+"/$1")}h.Push(["Require",c,this.webfontDir+"/png/"+i])}d.RestartAfter(h.Push({}))},loadWebFont:function(h){h.available=h.isWebFont=true;if(e.FontFaceBug){h.family=h.name;if(e.msieFontCSSBug){h.family+="-Web"}}d.RestartAfter(this.Font.loadWebFont(h))},loadWebFontError:function(i,h){d.Startup.signal.Post("HTML-CSS Jax - disable web fonts");i.isWebFont=false;if(this.config.imageFont&&this.config.imageFont===this.fontInUse){this.imgFonts=true;d.Startup.signal.Post("HTML-CSS Jax - switch to image fonts");d.Startup.signal.Post("HTML-CSS Jax - using image fonts");MathJax.Message.Set("Web-Fonts not available -- using image fonts instead",null,3000);c.Require(this.directory+"/imageFonts.js",h)}else{this.allowWebFonts=false;h()}},Element:MathJax.HTML.Element,addElement:MathJax.HTML.addElement,TextNode:MathJax.HTML.TextNode,addText:MathJax.HTML.addText,ucMatch:MathJax.HTML.ucMatch,BIGDIMEN:10000000,ID:0,idPostfix:"",GetID:function(){this.ID++;return this.ID},MATHSPACE:{veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18},TeX:{x_height:0.430554,quad:1,num1:0.676508,num2:0.393732,num3:0.44373,denom1:0.685951,denom2:0.344841,sup1:0.412892,sup2:0.362892,sup3:0.288888,sub1:0.15,sub2:0.247217,sup_drop:0.386108,sub_drop:0.05,delim1:2.39,delim2:1,axis_height:0.25,rule_thickness:0.06,big_op_spacing1:0.111111,big_op_spacing2:0.166666,big_op_spacing3:0.2,big_op_spacing4:0.6,big_op_spacing5:0.1,scriptspace:0.1,nulldelimiterspace:0.12,delimiterfactor:901,delimitershortfall:0.1,min_rule_thickness:1.25},PLANE1:String.fromCharCode(55349),NBSP:String.fromCharCode(160),rfuzz:0});MathJax.Hub.Register.StartupHook("mml Jax Ready",function(){a=MathJax.ElementJax.mml;a.mbase.Augment({toHTML:function(o){var l=this.HTMLlineBreaks();if(l.length>2){return this.toHTMLmultiline(o,l)}o=this.HTMLcreateSpan(o);if(this.type!="mrow"){o=this.HTMLhandleSize(o)}for(var k=0,j=this.data.length;k<j;k++){if(this.data[k]){this.data[k].toHTML(o)}}var q=this.HTMLcomputeBBox(o);var n=o.bbox.h,p=o.bbox.d;for(k=0,j=q.length;k<j;k++){q[k].HTMLstretchV(o,n,p)}if(q.length){this.HTMLcomputeBBox(o,true)}this.HTMLhandleSpace(o);this.HTMLhandleColor(o);return o},HTMLlineBreaks:function(){var n=[[0,this]];for(var l=0,h=this.data.length;l<h;l++){if(this.data[l]){var o=this.data[l].lineBreak();if(o!=="none"){var k=(o==="after"?l+1:l);if(n.length===0||n[n.length-1]!==k){n.push([k,this.data[l]])}else{n[n.length-1]=[k,this.data[l]]}}}}n.push([this.data.length,n[n.length-1][1]]);return n},toHTMLmultiline:function(h){a.mbase.HTMLautoloadFile("multiline")},HTMLcomputeBBox:function(o,n,l,h){if(l==null){l=0}if(h==null){h=this.data.length}var k=o.bbox={},p=[];while(l<h){var j=this.data[l];if(!j){continue}if(!n&&j.HTMLcanStretch("Vertical")){p.push(j);j=(j.CoreMO()||j)}this.HTMLcombineBBoxes(j,k);l++}this.HTMLcleanBBox(k);return p},HTMLcombineBBoxes:function(h,i){if(i.w==null){this.HTMLemptyBBox(i)}var k=h.HTMLspanElement();if(!k||!k.bbox){return}var j=k.bbox;if(j.d>i.d){i.d=j.d}if(j.h>i.h){i.h=j.h}if(j.D!=null&&j.D>i.D){i.D=j.D}if(j.H!=null&&j.H>i.H){i.H=j.H}if(k.style.paddingLeft){i.w+=parseFloat(k.style.paddingLeft)*(k.scale||1)}if(i.w+j.lw<i.lw){i.lw=i.w+j.lw}if(i.w+j.rw>i.rw){i.rw=i.w+j.rw}i.w+=j.w;if(k.style.paddingRight){i.w+=parseFloat(k.style.paddingRight)*(k.scale||1)}if(j.width){i.width=j.width}},HTMLemptyBBox:function(h){h.h=h.d=h.H=h.D=h.rw=-e.BIGDIMEN;h.w=0;h.lw=e.BIGDIMEN;return h},HTMLcleanBBox:function(h){if(h.h===this.BIGDIMEN){h.h=h.d=h.H=h.D=h.w=h.rw=h.lw=0}if(h.D<=h.d){delete h.D}if(h.H<=h.h){delete h.H}},HTMLzeroBBox:function(){return{h:0,d:0,w:0,lw:0,rw:0}},HTMLcanStretch:function(h){if(this.isEmbellished()){return this.Core().HTMLcanStretch(h)}return false},HTMLstretchH:function(i,h){return this.HTMLspanElement()},HTMLstretchV:function(j,i,k){return this.HTMLspanElement()},HTMLnotEmpty:function(h){while(h){if((h.type!=="mrow"&&h.type!=="texatom")||h.data.length>1){return true}h=h.data[0]}return false},HTMLmeasureChild:function(i,h){if(this.data[i]!=null){e.Measured(this.data[i].toHTML(h),h)}else{h.bbox=this.HTMLzeroBBox()}},HTMLcreateSpan:function(h){if(this.spanID){var i=this.HTMLspanElement();if(i){while(i.firstChild){i.removeChild(i.firstChild)}i.bbox={w:0,h:0,d:0,lw:0,rw:0};i.scale=1;i.isMultChar=null;i.style.cssText="";return i}}if(this.href){h=e.addElement(h,"a",{href:this.href,isMathJax:true})}h=e.addElement(h,"span",{className:this.type,isMathJax:true});if(e.imgHeightBug){h.style.display="inline-block"}if(this["class"]!=null){h.className+=" "+this["class"]}if(this.style){h.style.cssText=this.style;if(h.style.fontSize){this.mathsize=h.style.fontSize;h.style.fontSize=""}}this.spanID=e.GetID();h.id=(this.id||"MathJax-Span-"+this.spanID)+e.idPostfix;h.bbox={w:0,h:0,d:0,lw:0,lr:0};if(this.href){h.parentNode.bbox=h.bbox}return h},HTMLspanElement:function(){if(!this.spanID){return null}return document.getElementById((this.id||"MathJax-Span-"+this.spanID)+e.idPostfix)},HTMLhandleVariant:function(i,h,j){e.handleVariant(i,h,j)},HTMLhandleSize:function(h){if(!h.scale){h.scale=this.HTMLgetScale();if(h.scale!==1){h.style.fontSize=e.Percent(h.scale)}}return h},HTMLhandleColor:function(m){var o=this.getValues("mathcolor","color");if(this.mathbackground){o.mathbackground=this.mathbackground}if(this.background){o.background=this.background}if(this.style&&m.style.backgroundColor){o.mathbackground=m.style.backgroundColor;m.style.backgroundColor="transparent"}if(o.color&&!this.mathcolor){o.mathcolor=o.color}if(o.background&&!this.mathbackground){o.mathbackground=o.background}if(o.mathcolor){m.style.color=o.mathcolor}if(o.mathbackground&&o.mathbackground!==a.COLOR.TRANSPARENT){var p=1/e.em,l=0,k=0;if(this.isToken){l=m.bbox.lw;k=m.bbox.rw-m.bbox.w}if(m.style.paddingLeft!==""){l+=parseFloat(m.style.paddingLeft)*(m.scale||1)}if(m.style.paddingRight!==""){k-=parseFloat(m.style.paddingRight)*(m.scale||1)}var j=Math.max(0,e.getW(m)+(e.PaddingWidthBug?0:k-l));if(e.msieCharPaddingWidthBug&&m.style.paddingLeft!==""){j+=parseFloat(m.style.paddingLeft)*(m.scale||1)}var n=m.bbox.h+m.bbox.d,h=-m.bbox.d;if(j>0){j+=2*p;l-=p}if(n>0){n+=2*p;h-=p}k=-j-l;var i=e.Element("span",{id:"MathJax-Color-"+this.spanID+e.idPostfix,isMathJax:true,style:{display:"inline-block",backgroundColor:o.mathbackground,width:e.Em(j),height:e.Em(n),verticalAlign:e.Em(h),marginLeft:e.Em(l),marginRight:e.Em(k)}});if(e.msieInlineBlockAlignBug){i.style.position="relative";i.style.width=i.style.height=0;i.style.verticalAlign=i.style.marginLeft=i.style.marginRight="";e.placeBox(e.addElement(i,"span",{noAdjust:true,isMathJax:true,style:{display:"inline-block",position:"absolute",overflow:"hidden",width:e.Em(j),height:e.Em(n),background:o.mathbackground}}),l,m.bbox.h+p)}m.parentNode.insertBefore(i,m);if(e.msieColorPositionBug){m.style.position="relative"}return i}return null},HTMLremoveColor:function(){var h=document.getElementById("MathJax-Color-"+this.spanID+e.idPostfix);if(h){h.parentNode.removeChild(h)}},HTMLhandleSpace:function(k){if(this.useMMLspacing){if(this.type!=="mo"){return}var i=this.getValues("scriptlevel","lspace","rspace");if(i.scriptlevel<=0||this.hasValue("lspace")||this.hasValue("rspace")){i.lspace=Math.max(0,e.length2em(i.lspace));i.rspace=Math.max(0,e.length2em(i.rspace));var h=this,j=this.Parent();while(j&&j.isEmbellished()&&j.Core()===h){h=j;j=j.Parent();k=h.HTMLspanElement()}if(i.lspace){k.style.paddingLeft=e.Em(i.lspace)}if(i.rspace){k.style.paddingRight=e.Em(i.rspace)}}}else{var l=this.texSpacing();if(l!==""){l=e.length2em(l)/(k.scale||1);if(k.style.paddingLeft){l+=parseFloat(k.style.paddingLeft)}k.style.paddingLeft=e.Em(l)}}},HTMLgetScale:function(){var j=1,h=this.getValues("mathsize","scriptlevel","fontsize","scriptminsize");if(this.style){var i=this.HTMLspanElement();if(i.style.fontSize!=""){h.fontsize=i.style.fontSize}}if(h.fontsize&&!this.mathsize){h.mathsize=h.fontsize}if(h.scriptlevel!==0){if(h.scriptlevel>2){h.scriptlevel=2}j=Math.pow(this.Get("scriptsizemultiplier"),h.scriptlevel);h.scriptminsize=e.length2em(h.scriptminsize);if(j<h.scriptminsize){j=h.scriptminsize}}j*=e.length2em(h.mathsize);return j},HTMLgetVariant:function(){var h=this.getValues("mathvariant","fontfamily","fontweight","fontstyle");if(this.style){var j=this.HTMLspanElement();if(j.style.fontFamily){h.fontfamily=j.style.fontFamily}if(j.style.fontWeight){h.fontweight=j.style.fontWeight}if(j.style.fontStyle){h.fontStyle=j.style.fontStyle}}var i=h.mathvariant;if(this.variantForm){i="-"+e.fontInUse+"-variant"}if(h.fontfamily&&!this.mathvariant){if(!h.fontweight&&h.mathvariant.match(/bold/)){h.fontweight="bold"}if(!h.fontstyle&&h.mathvariant.match(/italic/)){h.fontstyle="italic"}return{FONTS:[],fonts:[],noRemap:true,defaultFont:{family:h.fontfamily,style:h.fontstyle,weight:h.fontweight}}}if(h.fontweight==="bold"){i={normal:a.VARIANT.BOLD,italic:a.VARIANT.BOLDITALIC,fraktur:a.VARIANT.BOLDFRAKTUR,script:a.VARIANT.BOLDSCRIPT,"sans-serif":a.VARIANT.BOLDSANSSERIF,"sans-serif-italic":a.VARIANT.SANSSERIFBOLDITALIC}[i]||i}else{if(h.fontweight==="normal"){i={bold:a.VARIANT.normal,"bold-italic":a.VARIANT.ITALIC,"bold-fraktur":a.VARIANT.FRAKTUR,"bold-script":a.VARIANT.SCRIPT,"bold-sans-serif":a.VARIANT.SANSSERIF,"sans-serif-bold-italic":a.VARIANT.SANSSERIFITALIC}[i]||i}}if(h.fontstyle==="italic"){i={normal:a.VARIANT.ITALIC,bold:a.VARIANT.BOLDITALIC,"sans-serif":a.VARIANT.SANSSERIFITALIC,"bold-sans-serif":a.VARIANT.SANSSERIFBOLDITALIC}[i]||i}else{if(h.fontstyle==="normal"){i={italic:a.VARIANT.NORMAL,"bold-italic":a.VARIANT.BOLD,"sans-serif-italic":a.VARIANT.SANSSERIF,"sans-serif-bold-italic":a.VARIANT.BOLDSANSSERIF}[i]||i}}return e.FONTDATA.VARIANT[i]}},{HTMLautoload:function(){var h=e.autoloadDir+"/"+this.type+".js";d.RestartAfter(c.Require(h))},HTMLautoloadFile:function(h){var i=e.autoloadDir+"/"+h+".js";d.RestartAfter(c.Require(i))},HTMLstretchH:function(i,h){this.HTMLremoveColor();return this.toHTML(i,h)},HTMLstretchV:function(j,i,k){this.HTMLremoveColor();return this.toHTML(j,i,k)}});a.chars.Augment({toHTML:function(i,h){this.HTMLhandleVariant(i,h,this.data.join("").replace(/[\u2061-\u2064]/g,""))}});a.entity.Augment({toHTML:function(i,h){this.HTMLhandleVariant(i,h,this.toString().replace(/[\u2061-\u2064]/g,""))}});a.mi.Augment({toHTML:function(l){l=this.HTMLhandleSize(this.HTMLcreateSpan(l));l.bbox=null;var k=this.HTMLgetVariant();for(var j=0,h=this.data.length;j<h;j++){if(this.data[j]){this.data[j].toHTML(l,k)}}if(!l.bbox){l.bbox={w:0,h:0,d:0,rw:0,lw:0}}if(this.data.join("").length!==1){delete l.bbox.skew}this.HTMLhandleSpace(l);this.HTMLhandleColor(l);return l}});a.mn.Augment({toHTML:function(l){l=this.HTMLhandleSize(this.HTMLcreateSpan(l));l.bbox=null;var k=this.HTMLgetVariant();for(var j=0,h=this.data.length;j<h;j++){if(this.data[j]){this.data[j].toHTML(l,k)}}if(!l.bbox){l.bbox={w:0,h:0,d:0,rw:0,lw:0}}if(this.data.join("").length!==1){delete l.bbox.skew}this.HTMLhandleSpace(l);this.HTMLhandleColor(l);return l}});a.mo.Augment({toHTML:function(n){n=this.HTMLhandleSize(this.HTMLcreateSpan(n));if(this.data.length==0){return n}else{n.bbox=null}var q=this.data.join("");var l=this.HTMLgetVariant();var j=this.getValues("largeop","displaystyle");if(j.largeop){l=e.FONTDATA.VARIANT[j.displaystyle?"-largeOp":"-smallOp"]}for(var k=0,h=this.data.length;k<h;k++){if(this.data[k]){this.data[k].toHTML(n,l)}}if(!n.bbox){n.bbox={w:0,h:0,d:0,rw:0,lw:0}}if(q.length!==1){delete n.bbox.skew}if(e.AccentBug&&n.bbox.w===0&&q.length===1&&n.firstChild){n.firstChild.nodeValue+=e.NBSP;e.createSpace(n,0,0,-n.offsetWidth/e.em)}if(j.largeop){var o=(n.bbox.h-n.bbox.d)/2-e.TeX.axis_height*n.scale;if(e.safariVerticalAlignBug&&n.lastChild.nodeName==="IMG"){n.lastChild.style.verticalAlign=e.Em(parseFloat(n.lastChild.style.verticalAlign||0)/e.em-o/n.scale)}else{if(e.konquerorVerticalAlignBug&&n.lastChild.nodeName==="IMG"){n.style.position="relative";n.lastChild.style.position="relative";n.lastChild.style.top=e.Em(o/n.scale)}else{n.style.verticalAlign=e.Em(-o/n.scale)}}n.bbox.h-=o;n.bbox.d+=o;if(n.bbox.rw>n.bbox.w){n.bbox.ic=n.bbox.rw-n.bbox.w;e.createBlank(n,n.bbox.ic);n.bbox.w=n.bbox.rw}}this.HTMLhandleSpace(n);this.HTMLhandleColor(n);return n},HTMLcanStretch:function(h){if(!this.Get("stretchy")){return false}var i=this.data.join("");if(i.length>1){return false}i=e.FONTDATA.DELIMITERS[i.charCodeAt(0)];return(i&&i.dir==h.substr(0,1))},HTMLstretchV:function(n,m,p){this.HTMLremoveColor();var i=this.getValues("symmetric","maxsize","minsize");var l=this.HTMLspanElement(),j;var k=e.TeX.axis_height,o=l.scale;if(i.symmetric){j=2*Math.max(m-k,p+k)}else{j=m+p}i.maxsize=e.length2em(i.maxsize,l.bbox.h+l.bbox.d);i.minsize=e.length2em(i.minsize,l.bbox.h+l.bbox.d);j=Math.max(i.minsize,Math.min(i.maxsize,j));l=this.HTMLcreateSpan(n);e.createDelimiter(l,this.data.join("").charCodeAt(0),j,o);if(i.symmetric){j=(l.bbox.h+l.bbox.d)/2+k}else{j=(l.bbox.h+l.bbox.d)*m/(m+p)}e.positionDelimiter(l,j);this.HTMLhandleSpace(l);this.HTMLhandleColor(l);return l},HTMLstretchH:function(k,h){this.HTMLremoveColor();var i=this.getValues("maxsize","minsize","mathvariant","fontweight");if(i.fontweight==="bold"&&!this.mathvariant){i.mathvariant=a.VARIANT.BOLD}var j=this.HTMLspanElement(),l=j.scale;i.maxsize=e.length2em(i.maxsize,j.bbox.w);i.minsize=e.length2em(i.minsize,j.bbox.w);h=Math.max(i.minsize,Math.min(i.maxsize,h));j=this.HTMLcreateSpan(k);e.createDelimiter(j,this.data.join("").charCodeAt(0),h,l,i.mathvariant);this.HTMLhandleSpace(j);this.HTMLhandleColor(j);return j}});a.mtext.Augment({toHTML:function(n){n=this.HTMLhandleSize(this.HTMLcreateSpan(n));n.bbox=null;if(this.Parent().type==="merror"){e.addText(n,this.data.join(""));var o=e.getHD(n),j=e.getW(n);n.bbox={h:o.h,d:o.d,w:j,lw:0,rw:j}}else{var l=this.HTMLgetVariant();for(var k=0,h=this.data.length;k<h;k++){if(this.data[k]){this.data[k].toHTML(n,l)}}if(!n.bbox){n.bbox={w:0,h:0,d:0,rw:0,lw:0}}if(this.data.join("").length!==1){delete n.bbox.skew}}this.HTMLhandleSpace(n);this.HTMLhandleColor(n);return n}});a.ms.Augment({toHTML:a.mbase.HTMLautoload});a.mglyph.Augment({toHTML:a.mbase.HTMLautoload});a.mspace.Augment({toHTML:function(l){l=this.HTMLhandleSize(this.HTMLcreateSpan(l));var j=this.getValues("height","depth","width");j.mathbackground=this.mathbackground;if(this.background&&!this.mathbackground){j.mathbackground=this.background}var k=e.length2em(j.height),m=e.length2em(j.depth),i=e.length2em(j.width);e.createSpace(l,k,m,i,j.mathbackground);return l}});a.mphantom.Augment({toHTML:function(l,j,o){l=this.HTMLcreateSpan(l);if(this.data[0]!=null){var n=e.Measured(this.data[0].toHTML(l),l);if(o!=null){e.Remeasured(this.data[0].HTMLstretchV(l,j,o),l)}else{if(j!=null){e.Remeasured(this.data[0].HTMLstretchH(l,j),l)}}l.bbox={w:n.bbox.w,h:n.bbox.h,d:n.bbox.d,lw:0,rw:0};for(var k=0,h=l.childNodes.length;k<h;k++){l.childNodes[k].style.visibility="hidden"}}this.HTMLhandleSpace(l);this.HTMLhandleColor(l);return l},HTMLstretchH:a.mbase.HTMLstretchH,HTMLstretchV:a.mbase.HTMLstretchV});a.mpadded.Augment({toHTML:function(l,j,n){l=this.HTMLcreateSpan(l);if(this.data[0]!=null){var i=e.createStack(l,true);var m=e.createBox(i);e.Measured(this.data[0].toHTML(m),m);if(n!=null){e.Remeasured(this.data[0].HTMLstretchV(m,j,n),m)}else{if(j!=null){e.Remeasured(this.data[0].HTMLstretchH(m,j),m)}}var k=this.getValues("height","depth","width","lspace","voffset"),h=0,o=0;if(k.lspace){h=this.HTMLlength2em(m,k.lspace)}if(k.voffset){o=this.HTMLlength2em(m,k.voffset)}e.placeBox(m,h,o);l.bbox={h:m.bbox.h,d:m.bbox.d,w:m.bbox.w,lw:Math.min(0,m.bbox.lw+h),rw:Math.max(m.bbox.w,m.bbox.rw+h),H:Math.max((m.bbox.H==null?-e.BIGDIMEN:m.bbox.H),m.bbox.h+o),D:Math.max((m.bbox.D==null?-e.BIGDIMEN:m.bbox.D),m.bbox.d-o)};if(k.height!==""){l.bbox.h=this.HTMLlength2em(m,k.height,"h",0)}if(k.depth!==""){l.bbox.d=this.HTMLlength2em(m,k.depth,"d",0)}if(k.width!==""){l.bbox.w=this.HTMLlength2em(m,k.width,"w",0)}if(l.bbox.H<=l.bbox.h){delete l.bbox.H}if(l.bbox.D<=l.bbox.d){delete l.bbox.D}e.setStackWidth(i,l.bbox.w)}this.HTMLhandleSpace(l);this.HTMLhandleColor(l);return l},HTMLlength2em:function(l,n,o,h){if(h==null){h=-e.BIGDIMEN}var j=String(n).match(/width|height|depth/);var k=(j?l.bbox[j[0].charAt(0)]:(o?l.bbox[o]:null));var i=e.length2em(n,k);if(o&&String(n).match(/^\s*[-+]/)){return Math.max(h,l.bbox[o]+i)}else{return i}},HTMLstretchH:a.mbase.HTMLstretchH,HTMLstretchV:a.mbase.HTMLstretchV});a.mrow.Augment({HTMLstretchH:function(j,h){this.HTMLremoveColor();var i=this.HTMLspanElement();this.data[this.core].HTMLstretchH(i,h);this.HTMLcomputeBBox(i,true);this.HTMLhandleColor(i);return i},HTMLstretchV:function(k,j,l){this.HTMLremoveColor();var i=this.HTMLspanElement();this.data[this.core].HTMLstretchV(i,j,l);this.HTMLcomputeBBox(i,true);this.HTMLhandleColor(i);return i}});a.mstyle.Augment({toHTML:function(h){if(this.data[0]!=null){h=this.data[0].toHTML(h);this.spanID=this.data[0].spanID;this.HTMLhandleSpace(h);this.HTMLhandleColor(h)}return h},HTMLspanElement:function(){return(this.data[0]!=null?this.data[0].HTMLspanElement():null)},HTMLstretchH:function(i,h){return(this.data[0]!=null?this.data[0].HTMLstretchH(i,h):i)},HTMLstretchV:function(j,i,k){return(this.data[0]!=null?this.data[0].HTMLstretchV(j,i,k):j)}});a.mfrac.Augment({toHTML:function(A){A=this.HTMLcreateSpan(A);var j=e.createStack(A);var m=e.createBox(j),l=e.createBox(j);this.HTMLmeasureChild(0,m);this.HTMLmeasureChild(1,l);var h=this.getValues("displaystyle","linethickness","numalign","denomalign","bevelled");var E=this.HTMLgetScale(),z=h.displaystyle;var D=e.TeX.axis_height*E;if(h.bevelled){var C=(z?0.4:0.15);var n=Math.max(m.bbox.h+m.bbox.d,l.bbox.h+l.bbox.d)+2*C;var B=e.createBox(j);e.createDelimiter(B,47,n);e.placeBox(m,0,(m.bbox.d-m.bbox.h)/2+D+C);e.placeBox(B,m.bbox.w-C/2,(B.bbox.d-B.bbox.h)/2+D);e.placeBox(l,m.bbox.w+B.bbox.w-C,(l.bbox.d-l.bbox.h)/2+D-C)}else{var i=Math.max(m.bbox.w,l.bbox.w);var s=e.thickness2em(h.linethickness),x,w,r,o;var y=e.TeX.min_rule_thickness/this.em;if(z){r=e.TeX.num1;o=e.TeX.denom1}else{r=(s===0?e.TeX.num3:e.TeX.num2);o=e.TeX.denom2}r*=E;o*=E;if(s===0){x=Math.max((z?7:3)*e.TeX.rule_thickness,2*y);w=(r-m.bbox.d)-(l.bbox.h-o);if(w<x){r+=(x-w)/2;o+=(x-w)/2}}else{x=Math.max((z?2:0)*y+s,s/2+1.5*y);w=(r-m.bbox.d)-(D+s/2);if(w<x){r+=x-w}w=(D-s/2)-(l.bbox.h-o);if(w<x){o+=x-w}var k=e.createBox(j);e.createRule(k,s,0,i+2*s);e.placeBox(k,0,D-s/2)}e.alignBox(m,h.numalign,r);e.alignBox(l,h.denomalign,-o)}this.HTMLhandleSpace(A);this.HTMLhandleColor(A);return A},HTMLcanStretch:function(h){return false},HTMLhandleSpace:function(h){if(!this.texWithDelims){var i=(this.useMMLspacing?0:e.length2em(this.texSpacing()||0))+0.12;h.style.paddingLeft=e.Em(i);h.style.paddingRight=".12em"}}});a.msqrt.Augment({toHTML:function(r){r=this.HTMLcreateSpan(r);var u=e.createStack(r);var j=e.createBox(u),n=e.createBox(u),m=e.createBox(u);this.HTMLmeasureChild(0,j);var l=this.HTMLgetScale();var v=e.TeX.rule_thickness*l,i,h,s,k;if(this.Get("displaystyle")){i=e.TeX.x_height*l}else{i=v}h=Math.max(v+i/4,1.5*e.TeX.min_rule_thickness/this.em);s=j.bbox.h+j.bbox.d+h+v;k=j.bbox.w;e.createDelimiter(m,8730,s,l);e.Measured(m);var o=0;if(m.isMultiChar||(e.AdjustSurd&&e.imgFonts)){m.bbox.w*=0.95}if(m.bbox.h+m.bbox.d>s){h=((m.bbox.h+m.bbox.d)-(s-v))/2}var w=e.FONTDATA.DELIMITERS[e.FONTDATA.RULECHAR];if(!w||k<w.HW[0][0]*l||l<0.75){e.createRule(n,v,0,k)}else{e.createDelimiter(n,e.FONTDATA.RULECHAR,k,l)}s=j.bbox.h+h+v;o=this.HTMLaddRoot(u,m,o,m.bbox.h+m.bbox.d-s,l);e.placeBox(m,o,s-m.bbox.h);e.placeBox(n,o+m.bbox.w,s-n.bbox.h+e.rfuzz);e.placeBox(j,o+m.bbox.w,0);this.HTMLhandleSpace(r);this.HTMLhandleColor(r);return r},HTMLaddRoot:function(j,i,h,l,k){return h}});a.mroot.Augment({toHTML:a.msqrt.prototype.toHTML,HTMLaddRoot:function(q,j,o,m,i){var k=e.createBox(q);if(this.data[1]){var n=this.data[1].toHTML(k);n.style.paddingRight=n.style.paddingLeft="";e.Measured(n,k)}else{k.bbox=this.HTMLzeroBBox()}var l=this.HTMLrootHeight(j.bbox.h+j.bbox.d,i,k)-m;var p=Math.min(k.bbox.w,k.bbox.rw);o=Math.max(p,j.offset);e.placeBox(k,o-p,l);return o-j.offset},HTMLrootHeight:function(j,i,h){return 0.45*(j-0.9*i)+0.6*i+Math.max(0,h.bbox.d-0.075)}});a.mfenced.Augment({toHTML:function(n){n=this.HTMLcreateSpan(n);if(this.data.open){this.data.open.toHTML(n)}if(this.data[0]!=null){this.data[0].toHTML(n)}for(var k=1,j=this.data.length;k<j;k++){if(this.data[k]){if(this.data["sep"+k]){this.data["sep"+k].toHTML(n)}this.data[k].toHTML(n)}}if(this.data.close){this.data.close.toHTML(n)}var p=this.HTMLcomputeBBox(n);var l=n.bbox.h,o=n.bbox.d;for(k=0,j=p.length;k<j;k++){p[k].HTMLstretchV(n,l,o)}if(p.length){this.HTMLcomputeBBox(n,true)}this.HTMLhandleSpace(n);this.HTMLhandleColor(n);return n},HTMLcomputeBBox:function(n,l){var j=n.bbox={},o=[];this.HTMLcheckStretchy(this.data.open,j,o,l);this.HTMLcheckStretchy(this.data[0],j,o,l);for(var k=1,h=this.data.length;k<h;k++){if(this.data[k]){this.HTMLcheckStretchy(this.data["sep"+k],j,o,l);this.HTMLcheckStretchy(this.data[k],j,o,l)}}this.HTMLcheckStretchy(this.data.close,j,o,l);this.HTMLcleanBBox(j);return o},HTMLcheckStretchy:function(h,i,k,j){if(h){if(!j&&h.HTMLcanStretch("Vertical")){k.push(h);h=(h.CoreMO()||h)}this.HTMLcombineBBoxes(h,i)}}});a.menclose.Augment({toHTML:a.mbase.HTMLautoload});a.maction.Augment({toHTML:a.mbase.HTMLautoload});a.semantics.Augment({toHTML:function(h){if(this.data[0]!=null){h=this.data[0].toHTML(h);this.spanID=this.data[0].spanID;this.HTMLhandleSpace(h)}return h},HTMLspanElement:function(){return(this.data[0]!=null?this.data[0].HTMLspanElement():null)},HTMLstretchH:function(i,h){return(this.data[0]!=null?this.data[0].HTMLstretchH(i,h):i)},HTMLstretchV:function(j,i,k){return(this.data[0]!=null?this.data[0].HTMLstretchV(j,i,k):j)}});a.munderover.Augment({toHTML:function(I,E,B){var h=this.getValues("displaystyle","accent","accentunder","align");if(!h.displaystyle&&this.data[this.base]!=null&&this.data[this.base].Get("movablelimits")){return a.msubsup.prototype.toHTML.call(this,I)}I=this.HTMLcreateSpan(I);var M=this.HTMLgetScale();var n=e.createStack(I);var o=[],K=[],s,J,F,j=-e.BIGDIMEN,H=j;for(J=0,F=this.data.length;J<F;J++){if(this.data[J]!=null){s=o[J]=e.createBox(n);e.Measured(this.data[J].toHTML(s),s);if(J==this.base){if(B!=null){e.Remeasured(this.data[this.base].HTMLstretchV(s,E,B),s)}else{if(E!=null){e.Remeasured(this.data[this.base].HTMLstretchH(s,E),s)}}K[J]=(B==null&&E!=null?false:this.data[J].HTMLcanStretch("Horizontal"))}else{K[J]=this.data[J].HTMLcanStretch("Horizontal")}if(s.bbox.w>H){H=s.bbox.w}if(!K[J]&&H>j){j=H}}}if(B==null&&E!=null){j=E}else{if(j==-e.BIGDIMEN){j=H}}for(J=H=0,F=this.data.length;J<F;J++){if(this.data[J]){s=o[J];if(K[J]){s.bbox=this.data[J].HTMLstretchH(s,j).bbox}if(s.bbox.w>H){H=s.bbox.w}}}var A=e.TeX.rule_thickness,C=e.FONTDATA.TeX_factor;var l=o[this.base]||{bbox:this.HTMLzeroBBox()},L=(l.bbox.ic||0);var r,p,v,u,q,z,G;for(J=0,F=this.data.length;J<F;J++){if(this.data[J]!=null){s=o[J];q=e.TeX.big_op_spacing5*M;var w=(J!=this.base&&h[this.ACCENTS[J]]);if(w&&s.bbox.w<=1/e.em+0.0001){s.bbox.w=s.bbox.rw-s.bbox.lw;s.bbox.noclip=true;if(s.bbox.lw&&!e.zeroWidthBug){s.insertBefore(e.createSpace(s.parentNode,0,0,-s.bbox.lw),s.firstChild)}e.createBlank(s,0,0,s.bbox.rw+0.1)}z={left:0,center:(H-s.bbox.w)/2,right:H-s.bbox.w}[h.align];r=z;p=0;if(J==this.over){if(w){G=Math.max(A*M*C,2.5/this.em);q=0;if(l.bbox.skew){r+=l.bbox.skew}}else{v=e.TeX.big_op_spacing1*M*C;u=e.TeX.big_op_spacing3*M*C;G=Math.max(v,u-Math.max(0,s.bbox.d))}G=Math.max(G,1.5/this.em);r+=L;p=l.bbox.h+s.bbox.d+G;s.bbox.h+=q}else{if(J==this.under){if(w){G=3*A*M*C;q=0}else{v=e.TeX.big_op_spacing2*M*C;u=e.TeX.big_op_spacing4*M*C;G=Math.max(v,u-s.bbox.h)}G=Math.max(G,1.5/this.em);r-=L;p=-(l.bbox.d+s.bbox.h+G);s.bbox.d+=q}}e.placeBox(s,r,p)}}this.HTMLhandleSpace(I);this.HTMLhandleColor(I);return I},HTMLstretchH:a.mbase.HTMLstretchH,HTMLstretchV:a.mbase.HTMLstretchV});a.msubsup.Augment({toHTML:function(F,C,y){F=this.HTMLcreateSpan(F);var I=this.HTMLgetScale();var l=e.createStack(F),i;var k=e.createBox(l);this.HTMLmeasureChild(this.base,k);if(this.data[this.base]){if(y!=null){e.Remeasured(this.data[this.base].HTMLstretchV(k,C,y),k)}else{if(C!=null){e.Remeasured(this.data[this.base].HTMLstretchH(k,C),k)}}}e.placeBox(k,0,0);var j=(this.data[this.sup]||this.data[this.sub]||this).HTMLgetScale();var G=e.TeX.x_height*I,x=e.TeX.scriptspace*I*0.75;var h,m;if(this.HTMLnotEmpty(this.data[this.sup])){h=e.createBox(l);e.Measured(this.data[this.sup].toHTML(h),h);h.bbox.w+=x;h.bbox.rw=Math.max(h.bbox.w,h.bbox.rw)}if(this.HTMLnotEmpty(this.data[this.sub])){m=e.createBox(l);e.Measured(this.data[this.sub].toHTML(m),m);m.bbox.w+=x;m.bbox.rw=Math.max(m.bbox.w,m.bbox.rw)}var A=e.TeX.sup_drop*j,z=e.TeX.sub_drop*j;var o=k.bbox.h-A,n=k.bbox.d+z,H=0,B;if(k.bbox.ic){H=k.bbox.ic}if(this.data[this.base]&&(this.data[this.base].type==="mi"||this.data[this.base].type==="mo")){if(this.data[this.base].data.join("").length===1&&k.bbox.scale===1&&!this.data[this.base].Get("largeop")){o=n=0}}var E=this.getValues("subscriptshift","superscriptshift");E.subscriptshift=(E.subscriptshift===""?0:e.length2em(E.subscriptshift));E.superscriptshift=(E.superscriptshift===""?0:e.length2em(E.superscriptshift));if(!h){if(m){n=Math.max(n,e.TeX.sub1*I,m.bbox.h-(4/5)*G,E.subscriptshift);e.placeBox(m,k.bbox.w+x-H,-n,m.bbox)}}else{if(!m){i=this.getValues("displaystyle","texprimestyle");B=e.TeX[(i.displaystyle?"sup1":(i.texprimestyle?"sup3":"sup2"))];o=Math.max(o,B*I,h.bbox.d+(1/4)*G,E.superscriptshift);e.placeBox(h,k.bbox.w+x,o,h.bbox)}else{n=Math.max(n,e.TeX.sub2*I);var w=e.TeX.rule_thickness*I;if((o-h.bbox.d)-(m.bbox.h-n)<3*w){n=3*w-o+h.bbox.d+m.bbox.h;A=(4/5)*G-(o-h.bbox.d);if(A>0){o+=A;n-=A}}e.placeBox(h,k.bbox.w+x,Math.max(o,E.superscriptshift));e.placeBox(m,k.bbox.w+x-H,-Math.max(n,E.subscriptshift))}}this.HTMLhandleSpace(F);this.HTMLhandleColor(F);return F},HTMLstretchH:a.mbase.HTMLstretchH,HTMLstretchV:a.mbase.HTMLstretchV});a.mmultiscripts.Augment({toHTML:a.mbase.HTMLautoload});a.mtable.Augment({toHTML:a.mbase.HTMLautoload});a["annotation-xml"].Augment({toHTML:a.mbase.HTMLautoload});a.math.Augment({toHTML:function(o,h){var l=this.Get("alttext");if(l){h.setAttribute("aria-label",l)}var i=e.addElement(o,"nobr",{isMathJax:true});o=this.HTMLcreateSpan(i);var m=e.createStack(o),j=e.createBox(m),n;m.style.fontSize=i.parentNode.style.fontSize;i.parentNode.style.fontSize="";if(this.data[0]!=null){if(e.msieColorBug){if(this.background){this.data[0].background=this.background;delete this.background}if(this.mathbackground){this.data[0].mathbackground=this.mathbackground;delete this.mathbackground}}a.mbase.prototype.displayAlign=d.config.displayAlign;a.mbase.prototype.displayIndent=d.config.displayIndent;n=e.Measured(this.data[0].toHTML(j),j)}e.placeBox(j,0,0);var k=e.em/e.outerEm;e.em/=k;o.bbox.h*=k;o.bbox.d*=k;o.bbox.w*=k;o.bbox.lw*=k;o.bbox.rw*=k;if(n&&n.bbox.width!=null){m.style.width=n.bbox.width;j.style.width="100%"}this.HTMLhandleColor(o);if(n){e.createRule(o,n.bbox.h*k,n.bbox.d*k,0)}if(!this.isMultiline&&this.Get("display")==="block"&&o.bbox.width==null){var p=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");if(p.indentalignfirst!==a.INDENTALIGN.INDENTALIGN){p.indentalign=p.indentalignfirst}if(p.indentalign===a.INDENTALIGN.AUTO){p.indentalign=this.displayAlign}h.style.textAlign=p.indentalign;if(p.indentshiftfirst!==a.INDENTSHIFT.INDENTSHIFT){p.indentshift=p.indentshiftfirst}if(p.indentshift==="auto"){p.indentshift=this.displayIndent}if(p.indentshift&&p.indentalign!==a.INDENTALIGN.CENTER){o.style[{left:"marginLeft",right:"marginRight"}[p.indentalign]]=e.Em(e.length2em(p.indentshift))}}return o}});a.TeXAtom.Augment({toHTML:function(i){i=this.HTMLcreateSpan(i);if(this.data[0]!=null){if(this.texClass===a.TEXCLASS.VCENTER){var h=e.createStack(i);var j=e.createBox(h);e.Measured(this.data[0].toHTML(j),j);e.placeBox(j,0,e.TeX.axis_height-(j.bbox.h+j.bbox.d)/2+j.bbox.d)}else{i.bbox=this.data[0].toHTML(i).bbox}}this.HTMLhandleSpace(i);this.HTMLhandleColor(i);return i}});MathJax.Hub.Register.StartupHook("onLoad",function(){setTimeout(MathJax.Callback(["loadComplete",e,"jax.js"]),0)})});d.Register.StartupHook("End Config",function(){d.Browser.Select({MSIE:function(h){var k=h.versionAtLeast("7.0");var j=h.versionAtLeast("8.0")&&document.documentMode>7;var i=(document.compatMode==="BackCompat");e.config.styles[".MathJax .MathJax_HitBox"]["background-color"]="white";e.config.styles[".MathJax .MathJax_HitBox"].opacity=0;e.config.styles[".MathJax .MathJax_HitBox"].filter="alpha(opacity=0)";e.Augment({getMarginScale:e.getMSIEmarginScale,PaddingWidthBug:true,msieEventBug:h.isIE9,msieAccentBug:true,msieColorBug:true,msieColorPositionBug:true,msieRelativeWidthBug:i,msieMarginWidthBug:true,msiePaddingWidthBug:true,msieCharPaddingWidthBug:(j&&!i),msieBorderWidthBug:i,msieInlineBlockAlignBug:(!j||i),msieVerticalAlignBug:(j&&!i),msiePlaceBoxBug:(j&&!i),msieClipRectBug:!j,msieNegativeSpaceBug:i,msieCloneNodeBug:(j&&h.version==="8.0"),negativeSkipBug:true,msieIE6:!k,msieItalicWidthBug:true,zeroWidthBug:true,FontFaceBug:true,msieFontCSSBug:h.isIE9,allowWebFonts:"eot"})},Firefox:function(i){var j=false;if(i.versionAtLeast("3.5")){var h=String(document.location).replace(/[^\/]*$/,"");if(document.location.protocol!=="file:"||(d.config.root+"/").substr(0,h.length)===h){j="otf"}}e.Augment({useProcessingFrame:true,ffVerticalAlignBug:true,AccentBug:true,allowWebFonts:j})},Safari:function(l){var j=l.versionAtLeast("3.0");var i=l.versionAtLeast("3.1");var h=(navigator.appVersion.match(/ Android (\d+)\.(\d+)/));var m=(i&&l.isMobile&&((navigator.platform.match(/iPad|iPod|iPhone/)&&!l.versionAtLeast("5.0"))||(h!=null&&(h[1]<2||(h[1]==2&&h[2]<2)))));e.Augment({config:{styles:{".MathJax img, .MathJax nobr, .MathJax a":{"max-width":"5000em","max-height":"5000em"}}},useProcessingFrame:true,rfuzz:0.05,AccentBug:true,AdjustSurd:true,safariContextMenuBug:true,safariNegativeSpaceBug:true,safariVerticalAlignBug:!i,safariTextNodeBug:!j,safariWebFontSerif:["serif"],allowWebFonts:(i&&!m?"otf":false)});if(m){var k=d.config["HTML-CSS"];if(k){k.availableFonts=[];k.preferredFont=null}else{d.config["HTML-CSS"]={availableFonts:[],preferredFont:null}}}},Chrome:function(h){e.Augment({useProcessingFrame:true,rfuzz:0.05,AccentBug:true,AdjustSurd:true,allowWebFonts:(h.versionAtLeast("4.0")?"otf":"svg"),safariNegativeSpaceBug:true,safariWebFontSerif:[""]})},Opera:function(h){h.isMini=(navigator.appVersion.match("Opera Mini")!=null);e.config.styles[".MathJax .merror"]["vertical-align"]=null;e.Augment({useProcessingFrame:true,operaHeightBug:true,operaVerticalAlignBug:true,operaFontSizeBug:h.versionAtLeast("10.61"),negativeSkipBug:true,zeroWidthBug:true,FontFaceBug:true,PaddingWidthBug:true,allowWebFonts:(h.versionAtLeast("10.0")&&!h.isMini?"otf":false),adjustAvailableFonts:function(l){for(var k=0,j=l.length;k<j;k++){if(l[k]==="STIX"){l.splice(k,1);j--;k--}}if(this.config.preferredFont==="STIX"){this.config.preferredFont=l[0]}}})},Konqueror:function(h){e.Augment({konquerorVerticalAlignBug:true,noContextMenuBug:true})}})});MathJax.Hub.Register.StartupHook("End Cookie",function(){if(d.config.menuSettings.zoom!=="None"){c.Require("[MathJax]/extensions/MathZoom.js")}})})(MathJax.Ajax,MathJax.Hub,MathJax.OutputJax["HTML-CSS"]);

